     1                                  ; naskfunc
     2                                  ; TAB=4
     3                                  
     4                                  ;[FORMAT "WOOFF"]							; オブジェクトファイルを作るモード
     5                                  ;[BITS 32]									; 32ビットモード用の機械語を作らせる
     6                                  
     7                                  ; オブジェクトファイルのための情報
     8                                  
     9                                  ;[FILE "naskfunc.nas"]						; ソースファイル名情報
    10                                  
    11                                  ;		GLOBAL _io_hlt						; このプログラムに含まれる関数名
    12                                  
    13                                  ; 以下は実際の関数
    14                                  
    15                                  ;[SECTION .text] 							; オブジェクトファイルではこれを書いてからプログラムを書く
    16                                  
    17                                  section .text
    18                                  		GLOBAL _io_hlt
    19                                  		GLOBAL _write_mem8
    20                                  
    21                                  _io_hlt:	; void io_hlt(void);
    22 00000000 F4                      		HLT
    23 00000001 C3                      		RET
    24                                  
    25                                  _write_mem8:	; void _write_mem8(int addr, int data);
    26 00000002 8B4C2404                		MOV			ECX, [ESP+4]			; [ESP+4]にaddrが入っているのでそれをECXに読み込む
    27 00000006 8A442408                		MOV			AL,[ESP+8]				; [ESP+8]にdataが入っているのでそれをALに読み込む
    28 0000000A 8801                    		MOV			[ECX],AL
    29 0000000C C3                      		RET
    30                                  
