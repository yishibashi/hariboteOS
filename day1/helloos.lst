     1                                  ; hello-os
     2                                  ; TAB=4
     3                                  
     4                                  ; 以下は標準的なFAT12フォーマットフロッピーディスクのための記述
     5                                  
     6 00000000 EB4E90                  		DB		0xeb, 0x4e, 0x90
     7 00000003 48454C4C4F49504C        		DB		"HELLOIPL"		; ブートセクタの名前を自由に書いてよい（8バイト）
     8 0000000B 0002                    		DW		512				; 1セクタの大きさ（512にしなければいけない）
     9 0000000D 01                      		DB		1				; クラスタの大きさ（1セクタにしなければいけない）
    10 0000000E 0100                    		DW		1				; FATがどこから始まるか（普通は1セクタ目からにする）
    11 00000010 02                      		DB		2				; FATの個数（2にしなければいけない）
    12 00000011 E000                    		DW		224				; ルートディレクトリ領域の大きさ（普通は224エントリにする）
    13 00000013 400B                    		DW		2880			; このドライブの大きさ（2880セクタにしなければいけない）
    14 00000015 F0                      		DB		0xf0			; メディアのタイプ（0xf0にしなければいけない）
    15 00000016 0900                    		DW		9				; FAT領域の長さ（9セクタにしなければいけない）
    16 00000018 1200                    		DW		18				; 1トラックにいくつのセクタがあるか（18にしなければいけない）
    17 0000001A 0200                    		DW		2				; ヘッドの数（2にしなければいけない）
    18 0000001C 00000000                		DD		0				; パーティションを使ってないのでここは必ず0
    19 00000020 400B0000                		DD		2880			; このドライブ大きさをもう一度書く
    20 00000024 000029                  		DB		0,0,0x29		; よくわからないけどこの値にしておくといいらしい
    21 00000027 FFFFFFFF                		DD		0xffffffff		; たぶんボリュームシリアル番号
    22 0000002B 48454C4C4F2D4F5320-     		DB		"HELLO-OS   "	; ディスクの名前（11バイト）
    22 00000034 2020               
    23 00000036 4641543132202020        		DB		"FAT12   "		; フォーマットの名前（8バイト）
    24                                  		;RESB	18				; とりあえず18バイトあけておく
    25 0000003E 00<rept>                		TIMES	18	DB	0		; とりあえず18バイトあけておく
    26                                  
    27                                  ; プログラム本体
    28                                  
    29 00000050 B800008ED0BC007C        		DB		0xb8, 0x00, 0x00, 0x8e, 0xd0, 0xbc, 0x00, 0x7c
    30 00000058 8ED88EC0BE747C8A        		DB		0x8e, 0xd8, 0x8e, 0xc0, 0xbe, 0x74, 0x7c, 0x8a
    31 00000060 0483C6013C007409        		DB		0x04, 0x83, 0xc6, 0x01, 0x3c, 0x00, 0x74, 0x09
    32 00000068 B40EBB0F00CD10EB        		DB		0xb4, 0x0e, 0xbb, 0x0f, 0x00, 0xcd, 0x10, 0xeb
    33 00000070 EEF4EBFD                		DB		0xee, 0xf4, 0xeb, 0xfd
    34                                  
    35                                  ; メッセージ部分
    36                                  
    37 00000074 0A0A                    		DB		0x0a, 0x0a		; 改行を2つ
    38 00000076 68656C6C6F2C20776F-     		DB		"hello, world"
    38 0000007F 726C64             
    39 00000082 0A                      		DB		0x0a			; 改行
    40 00000083 00                      		DB		0
    41                                  
    42                                  		;RESB	0x1fe-$			; 0x001feまでを0x00で埋める命令
    43                                  		;RESB	0x1fe-($-$$)			; 0x001feまでを0x00で埋める命令
    44 00000084 00<rept>                		TIMES	0x1fe-($-$$)	DB	0			; 0x001feまでを0x00で埋める命令
    45                                  
    46 000001FE 55AA                    		DB		0x55, 0xaa
    47                                  
    48                                  ; 以下はブートセクタ以外の部分の記述
    49                                  
    50 00000200 F0FFFF0000000000        		DB		0xf0, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00
    51                                  		;RESB	4600
    52 00000208 00<rept>                		TIMES	4600	DB	0
    53 00001400 F0FFFF0000000000        		DB		0xf0, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00
    54 00001408 00<rept>                		TIMES	1469432	DB	0
    55                                  
